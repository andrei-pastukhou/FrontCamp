!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.storage=t.storageInstance=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=null,a=function(){function e(){return r(this,e),this.actionUpdate=new o.EventObserver,s||(t.storageInstance=s=this),s}return i(e,[{key:"setItem",value:function(e,t){localStorage.setItem(e,t),this.actionUpdate.broadcast()}},{key:"removeItem",value:function(e){localStorage.removeItem(e),this.actionUpdate.broadcast()}}],[{key:"getItem",value:function(e){return localStorage.getItem(e)}},{key:"getArray",value:function(){return localStorage}}]),e}();t.storageInstance=s,t.storage=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.observers=[]}return i(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"broadcast",value:function(e){this.observers.forEach(function(t){return t(e)})}}]),e}();t.EventObserver=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={channelList:[{title:"ABC News",source:"abc-news"},{title:"Aftenposten",source:"aftenposten"},{title:"BBC News",source:"bbc-news"},{title:"CNN",source:"cnn"},{title:"Daily Mail",source:"daily-mail"}],domId:{channelList:"channels_list",newsList:"news"},apiKey:"abe8dc4a8fe14125aa16bb323913586c",url:"https://newsapi.org/v2/everything",sortBy:"publishedAt"};t.config=r},function(e,t,n){"use strict";var r=n(2),i=n(4),o=n(5),s=n(6),a=n(7),l=n(8),c=n(9),u=n(10);n(12);var f=new s.listModel(i.linkModel,r.config.channelList,{id:r.config.domId.channelList});new c.linkListController(f,a.linkView).init();var d=new s.listModel(o.newsModel,[],{id:r.config.domId.newsList});new u.newsController(d,l.newsView).init()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.linkModel=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=function(){function e(t){r(this,e),this.source=t.source,this.title=t.title,this.storage=new o.storage,this.init()}return i(e,[{key:"todoClick",value:function(){this.selected=!this.selected,this.selected?this.storage.setItem(this.source,"chanel"):this.storage.removeItem(this.source)}},{key:"init",value:function(){this.selected=!!o.storage.getItem(this.source)}}]),e}();t.linkModel=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){r(this,e),this.author=t.author,this.description=t.description,this.publishedAt=t.publishedAt,this.source=t.source.name,this.title=t.title,this.url=t.url,this.urlToImage=t.urlToImage};t.newsModel=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,i){var o=this;r(this,e),this.childClass=t,this.list=[],n&&n.forEach(function(e){o.list.push(new t(e))}),this.options=i,this.domElement=this.getDomElement(this.options.id)}return i(e,[{key:"getDomElement",value:function(e){var t=document.getElementById(e);return t||(t=document.createElement("div"),t.setAttribute("id",e),document.body.appendChild(t)),t}},{key:"updateData",value:function(e){var t=this;this.list=[],e&&e.forEach(function(e){t.list.push(new t.childClass(e))})}}]),e}();t.listModel=o},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.linkView=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=function(){function e(){o(this,e),this.domElement=null}return s(e,[{key:"render",value:function(){}}]),e}(),c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.model=e,n.actionClick=new a.EventObserver,n.clases=["flex-sm-fill","text-sm-center","nav-link"],n.init(),n}return i(t,e),s(t,[{key:"init",value:function(){var e=this;this.domElement=document.createElement("a"),this.domElement.appendChild(document.createTextNode(this.model.title)),this.domElement.href="#",this.clases.forEach(function(t){e.domElement.classList.add(t)}),this.domElement.setAttribute("source",this.model.source),this.domElement.addEventListener("click",function(t){t.preventDefault(),e.actionClick.broadcast()})}},{key:"render",value:function(){this.model.selected?this.domElement.classList.add("active"):this.domElement.classList.remove("active")}}]),t}(l);t.linkView=c},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){o(this,e),this.domElement=null}return s(e,[{key:"render",value:function(){}}]),e}(),l=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.model=e,n}return i(t,e),s(t,[{key:"render",value:function(){this.domElement=document.createElement("div"),this.domElement.innerHTML='\n       <div class="card" style="width: 20rem;">\n        <img class="card-img-top">\n        <div class="card-body">\n            <h4 class="card-title"></h4>\n            <p class="card-text"></p>\n                 <p class="card-text"><small class="text-muted source"></small></p>\n                 <p class="card-text"><small class="text-muted publishedAt"></small></p>\n            <a href="#" class="btn btn-primary">Read more</a>\n        </div>\n     </div>\n    ';var e=this.model.source.name;new Date(this.model.publishedAt);this.domElement.querySelector(".card-text").textContent=this.model.description,this.domElement.querySelector(".publishedAt").textContent=this.model.publishedAt,this.domElement.querySelector(".source").textContent=e,this.domElement.querySelector(".card-title").textContent=this.model.title,this.domElement.querySelector(".btn").href=this.model.url,this.model.urlToImage&&(this.domElement.querySelector(".card-img-top").src=this.model.urlToImage)}}]),t}(a);t.newsView=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.model=t,this.view=n}return i(e,[{key:"init",value:function(){var e=this;this.model.list.forEach(function(t){var n=new e.view(t);n.actionClick.subscribe(function(){t.todoClick(),n.render()}),n.render(),e.model.domElement.appendChild(n.domElement)})}}]),e}();t.linkListController=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.newsController=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=n(11),a=function(){function e(t,n){r(this,e),this.storage=new o.storage,this.request=new s.urlRequest,this.newsList=t,this.view=n}return i(e,[{key:"init",value:function(){var e=this;this.storage.actionUpdate.subscribe(function(){e.request.getResult(e.storage)}),this.request.actionPending.subscribe(function(){console.log("start downloading")}),this.request.actionFulfilled.subscribe(function(t){console.log("finish downloading"),e.newsList.updateData(t),e.drawNews()}),this.request.getResult(),this.drawNews()}},{key:"drawNews",value:function(){var e=this;this.newsList.domElement.innerHTML="",this.newsList.list&&this.newsList.list.forEach(function(t){var n=new e.view(t);n.render(),e.newsList.domElement.appendChild(n.domElement)})}}]),e}();t.newsController=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.urlRequest=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=n(0),a=n(2),l=function(){function e(){r(this,e),this.actionPending=new o.EventObserver,this.actionFulfilled=new o.EventObserver}return i(e,[{key:"getResult",value:function(){var e=this,t=[];for(var n in s.storage.getArray())t.push(n);var r=t.join(",");if(r){var i=a.config.url+"?sources="+r+"&sortBy="+a.config.sortBy+"&apiKey="+a.config.apiKey;this.actionPending.broadcast(),fetch(i).then(function(e){return e.json()}).then(function(e){return e.articles}).then(function(t){e.actionFulfilled.broadcast(t)})}else this.actionFulfilled.broadcast([])}}]),e}();t.urlRequest=l},function(e,t){}]);